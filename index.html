<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cash Tray Break Down</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            max-width: 100%;
            margin: 0;
            padding: 10px;
            background-color: #f5f5f5;
            -webkit-text-size-adjust: 100%;
        }
        .cash-tray {
            background-color: white;
            border: 2px solid #333;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto 20px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-top: 0;
            font-size: 1.5rem;
        }
        .form-group {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
            flex-wrap: wrap;
        }
        label {
            width: 30%;
            font-weight: bold;
            font-size: 1rem;
            min-width: 100px;
        }
        input {
            width: 20%;
            min-width: 80px;
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
            text-align: right;
            font-size: 1rem;
            height: 40px;
        }
        input:focus {
            border-color: #4CAF50;
            outline: none;
        }
        .result {
            width: 40%;
            min-width: 100px;
            display: inline-block;
            text-align: right;
            font-weight: bold;
            font-size: 1rem;
        }
        .total {
            font-weight: bold;
            font-size: 1rem;
            margin-top: 20px;
            border-top: 2px solid #333;
            padding-top: 10px;
            display: flex;
            align-items: center;
        }
        #date {
            width: 60%;
            min-width: 150px;
            margin-bottom: 20px;
            height: 40px;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .clear-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 3px;
            font-size: 1rem;
            cursor: pointer;
        }
        .clear-btn:hover {
            background-color: #d32f2f;
        }
        
        /* Cash Balancing Table Styles */
        .cash-balancing {
            background-color: white;
            border: 2px solid #333;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto;
        }
        .cash-balancing h2 {
            text-align: center;
            color: #333;
            margin-top: 0;
            font-size: 1.3rem;
        }
        .balancing-row {
            display: flex;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .balancing-label {
            width: 70%;
            font-weight: bold;
        }
        .balancing-operator {
            width: 10%;
            text-align: center;
        }
        .balancing-input {
            width: 20%;
        }
        .balancing-input input {
            width: 100%;
            min-width: auto;
            margin-right: 0;
        }
        .balancing-total {
            font-weight: bold;
            border-top: 2px solid #333;
            padding-top: 10px;
        }
        #differenceDisplay {
            font-weight: bold;
            text-align: right;
            width: 100%;
            margin-top: 10px;
            font-size: 1.2rem;
            padding: 5px;
            border-radius: 3px;
        }
        .over {
            color: #4CAF50;
            background-color: #e8f5e9;
        }
        .short {
            color: #f44336;
            background-color: #ffebee;
        }
        .exact {
            color: #2196F3;
            background-color: #e3f2fd;
        }
        
        @media (max-width: 400px) {
            label {
                width: 100%;
                margin-bottom: 5px;
            }
            input {
                width: 30%;
                margin-right: 5%;
            }
            .result {
                width: 60%;
                text-align: right;
            }
            #date {
                width: 100%;
            }
            .balancing-label {
                width: 60%;
            }
            .balancing-input {
                width: 30%;
            }
        }
    </style>
</head>
<body>
    <div class="cash-tray">
        <div class="header">
            <h1>Cash Tray Break Down</h1>
            <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" id="date">
            </div>
        </div>
        
        <div class="form-group">
            <label for="hundred">X $100 =</label>
            <input type="number" id="hundred" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="hundredResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="fifty">X $50 =</label>
            <input type="number" id="fifty" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="fiftyResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="twenty">X $20 =</label>
            <input type="number" id="twenty" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="twentyResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="ten">X $10 =</label>
            <input type="number" id="ten" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="tenResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="five">X $5 =</label>
            <input type="number" id="five" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="fiveResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="two">X $2 =</label>
            <input type="number" id="two" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="twoResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="one">X $1 =</label>
            <input type="number" id="one" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="oneResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="quarter">X $0.25 =</label>
            <input type="number" id="quarter" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="quarterResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="dime">X $0.10 =</label>
            <input type="number" id="dime" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="dimeResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="nickel">X $0.05 =</label>
            <input type="number" id="nickel" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="nickelResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group">
            <label for="coinRolls">Coin rolls =</label>
            <input type="number" id="coinRolls" min="0" value="" placeholder="0" onchange="calculate()" inputmode="decimal">
            <span id="coinRollsResult" class="result">$0.00</span>
        </div>
        
        <div class="form-group total">
            <label>Total Float =</label>
            <span id="totalFloat" class="result">$0.00</span>
        </div>
        
        <button class="clear-btn" onclick="clearAll()">Clear All</button>
    </div>

    <!-- Cash Balancing Table -->
    <div class="cash-balancing">
        <h2>Cash Balancing</h2>
        
        <div class="balancing-row">
            <div class="balancing-label">Safe Drops</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="safeDrops" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">CPO</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="cpo1" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">CPO</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="cpo2" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">CPO</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="cpo3" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">Drive aways</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="driveAways" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">Pump Tests</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="pumpTests" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">US $</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="usDollars" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">Shift End Float</div>
            <div class="balancing-operator">+</div>
            <div class="balancing-input"><input type="number" id="shiftEndFloat" min="0" value="0" readonly></div>
        </div>
        
        <div class="balancing-row balancing-total">
            <div class="balancing-label">Subtotal Revenue</div>
            <div class="balancing-operator">=</div>
            <div class="balancing-input"><input type="number" id="subtotalRevenue" value="0" readonly></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">Shift Start Float</div>
            <div class="balancing-operator">-</div>
            <div class="balancing-input"><input type="number" id="shiftStartFloat" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div class="balancing-row balancing-total">
            <div class="balancing-label">Total Revenue</div>
            <div class="balancing-operator">=</div>
            <div class="balancing-input"><input type="number" id="totalRevenue" value="0" readonly></div>
        </div>
        
        <div class="balancing-row">
            <div class="balancing-label">Shift Sales in Bulloch</div>
            <div class="balancing-operator">-</div>
            <div class="balancing-input"><input type="number" id="shiftSales" min="0" value="0" onchange="calculateBalancing()"></div>
        </div>
        
        <div id="differenceDisplay" class="exact">Perfectly balanced!</div>
    </div>

    <script>
        function calculate() {
            // Get quantities
            const hundred = parseFloat(document.getElementById('hundred').value) || 0;
            const fifty = parseFloat(document.getElementById('fifty').value) || 0;
            const twenty = parseFloat(document.getElementById('twenty').value) || 0;
            const ten = parseFloat(document.getElementById('ten').value) || 0;
            const five = parseFloat(document.getElementById('five').value) || 0;
            const two = parseFloat(document.getElementById('two').value) || 0;
            const one = parseFloat(document.getElementById('one').value) || 0;
            const quarter = parseFloat(document.getElementById('quarter').value) || 0;
            const dime = parseFloat(document.getElementById('dime').value) || 0;
            const nickel = parseFloat(document.getElementById('nickel').value) || 0;
            const coinRolls = parseFloat(document.getElementById('coinRolls').value) || 0;
            
            // Calculate amounts
            const hundredAmount = hundred * 100;
            const fiftyAmount = fifty * 50;
            const twentyAmount = twenty * 20;
            const tenAmount = ten * 10;
            const fiveAmount = five * 5;
            const twoAmount = two * 2;
            const oneAmount = one * 1;
            const quarterAmount = quarter * 0.25;
            const dimeAmount = dime * 0.10;
            const nickelAmount = nickel * 0.05;
            
            // Coin rolls are not multiplied - displayed as entered
            const coinRollsAmount = coinRolls;
            
            // Update display
            document.getElementById('hundredResult').textContent = '$' + hundredAmount.toFixed(2);
            document.getElementById('fiftyResult').textContent = '$' + fiftyAmount.toFixed(2);
            document.getElementById('twentyResult').textContent = '$' + twentyAmount.toFixed(2);
            document.getElementById('tenResult').textContent = '$' + tenAmount.toFixed(2);
            document.getElementById('fiveResult').textContent = '$' + fiveAmount.toFixed(2);
            document.getElementById('twoResult').textContent = '$' + twoAmount.toFixed(2);
            document.getElementById('oneResult').textContent = '$' + oneAmount.toFixed(2);
            document.getElementById('quarterResult').textContent = '$' + quarterAmount.toFixed(2);
            document.getElementById('dimeResult').textContent = '$' + dimeAmount.toFixed(2);
            document.getElementById('nickelResult').textContent = '$' + nickelAmount.toFixed(2);
            document.getElementById('coinRollsResult').textContent = '$' + coinRollsAmount.toFixed(2);
            
            // Calculate total
            const total = hundredAmount + fiftyAmount + twentyAmount + tenAmount + fiveAmount + 
                          twoAmount + oneAmount + quarterAmount + dimeAmount + nickelAmount + coinRollsAmount;
            
            document.getElementById('totalFloat').textContent = '$' + total.toFixed(2);
            
            // Automatically update Shift End Float to match Total Float
            document.getElementById('shiftEndFloat').value = total.toFixed(2);
            
            // Recalculate balancing
            calculateBalancing();
        }
        
        function calculateBalancing() {
            // Get all input values
            const safeDrops = parseFloat(document.getElementById('safeDrops').value) || 0;
            const cpo1 = parseFloat(document.getElementById('cpo1').value) || 0;
            const cpo2 = parseFloat(document.getElementById('cpo2').value) || 0;
            const cpo3 = parseFloat(document.getElementById('cpo3').value) || 0;
            const driveAways = parseFloat(document.getElementById('driveAways').value) || 0;
            const pumpTests = parseFloat(document.getElementById('pumpTests').value) || 0;
            const usDollars = parseFloat(document.getElementById('usDollars').value) || 0;
            const shiftEndFloat = parseFloat(document.getElementById('shiftEndFloat').value) || 0;
            const shiftStartFloat = parseFloat(document.getElementById('shiftStartFloat').value) || 0;
            const shiftSales = parseFloat(document.getElementById('shiftSales').value) || 0;
            
            // Calculate subtotal revenue
            const subtotalRevenue = safeDrops + cpo1 + cpo2 + cpo3 + driveAways + pumpTests + usDollars + shiftEndFloat;
            document.getElementById('subtotalRevenue').value = subtotalRevenue.toFixed(2);
            
            // Calculate total revenue
            const totalRevenue = subtotalRevenue - shiftStartFloat;
            document.getElementById('totalRevenue').value = totalRevenue.toFixed(2);
            
            // Calculate difference and display message
            const difference = totalRevenue - shiftSales;
            const differenceDisplay = document.getElementById('differenceDisplay');
            
            // Round to 2 decimal places to avoid floating point precision issues
            const roundedDifference = Math.round(difference * 100) / 100;
            
            if (roundedDifference === 0) {
                differenceDisplay.textContent = 'Perfectly balanced!';
                differenceDisplay.className = 'exact';
            } else if (roundedDifference > 0) {
                differenceDisplay.textContent = `You are $${Math.abs(roundedDifference).toFixed(2)} over`;
                differenceDisplay.className = 'over';
            } else {
                differenceDisplay.textContent = `You are $${Math.abs(roundedDifference).toFixed(2)} short`;
                differenceDisplay.className = 'short';
            }
        }
        
        function clearAll() {
            // Reset all cash tray input fields to 0
            document.getElementById('hundred').value = '0';
            document.getElementById('fifty').value = '0';
            document.getElementById('twenty').value = '0';
            document.getElementById('ten').value = '0';
            document.getElementById('five').value = '0';
            document.getElementById('two').value = '0';
            document.getElementById('one').value = '0';
            document.getElementById('quarter').value = '0';
            document.getElementById('dime').value = '0';
            document.getElementById('nickel').value = '0';
            document.getElementById('coinRolls').value = '0';
            
            // Reset all cash tray results to $0.00
            document.getElementById('hundredResult').textContent = '$0.00';
            document.getElementById('fiftyResult').textContent = '$0.00';
            document.getElementById('twentyResult').textContent = '$0.00';
            document.getElementById('tenResult').textContent = '$0.00';
            document.getElementById('fiveResult').textContent = '$0.00';
            document.getElementById('twoResult').textContent = '$0.00';
            document.getElementById('oneResult').textContent = '$0.00';
            document.getElementById('quarterResult').textContent = '$0.00';
            document.getElementById('dimeResult').textContent = '$0.00';
            document.getElementById('nickelResult').textContent = '$0.00';
            document.getElementById('coinRollsResult').textContent = '$0.00';
            document.getElementById('totalFloat').textContent = '$0.00';
            
            // Reset all cash balancing inputs to 0
            document.getElementById('safeDrops').value = '0';
            document.getElementById('cpo1').value = '0';
            document.getElementById('cpo2').value = '0';
            document.getElementById('cpo3').value = '0';
            document.getElementById('driveAways').value = '0';
            document.getElementById('pumpTests').value = '0';
            document.getElementById('usDollars').value = '0';
            document.getElementById('shiftEndFloat').value = '0';
            document.getElementById('shiftStartFloat').value = '0';
            document.getElementById('shiftSales').value = '0';
            document.getElementById('subtotalRevenue').value = '0';
            document.getElementById('totalRevenue').value = '0';
            
            // Reset difference display
            document.getElementById('differenceDisplay').textContent = 'Perfectly balanced!';
            document.getElementById('differenceDisplay').className = 'exact';
            
            // Set focus back to the first input field
            document.getElementById('hundred').focus();
        }
        
        // Set today's date as default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const dateString = today.toISOString().split('T')[0];
            document.getElementById('date').value = dateString;
            
            // Add event listeners to clear default zero on focus
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    if (this.value === "0") {
                        this.value = '';
                    }
                });
                input.addEventListener('blur', function() {
                    if (this.value === '') {
                        this.value = '0';
                        if (this.id === 'hundred' || this.id === 'fifty' || this.id === 'twenty' || 
                            this.id === 'ten' || this.id === 'five' || this.id === 'two' || 
                            this.id === 'one' || this.id === 'quarter' || this.id === 'dime' || 
                            this.id === 'nickel' || this.id === 'coinRolls') {
                            calculate();
                        } else {
                            calculateBalancing();
                        }
                    }
                });
            });
            
            // Focus first input field on load for easier mobile entry
            document.getElementById('hundred').focus();
        });
    </script>
</body>
</html>
